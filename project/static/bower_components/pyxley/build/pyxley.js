!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Pxyley=e():t.Pxyley=e()}(this,function(){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(11).FilterChart,i=n(6).Filter,o=n(2).Chart,r=n(10).Table,s=n(4).Datamaps,c=n(8).NVD3,l=n(7).MetricsGraphics,p=n(1).SelectButton,u=n(1).ConditionalSelectButton,h=n(1).ApiButton,d=n(1).DownloadButton,f=n(5).DynamicSearch,m=n(9).SliderInput,v=n(3).CheckboxGroup;e["default"]={Filter:i,Chart:o,FilterChart:a,Table:r,Datamaps:s,MetricsGraphics:l,SelectButton:p,ConditionalSelectButton:u,ApiButton:h,DownloadButton:d,DynamicSearch:f,SliderInput:m,CheckboxGroup:v,NVD3:c},t.exports=e["default"]},function(t,e){"use strict";var n=ReactBootstrap.DropdownButton,a=ReactBootstrap.Button,i=React.createClass({displayName:"SelectButton",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getInitialState:function(){return{value:null,selected:0}},getCurrentState:function(){var t={};return t[this.props.options.alias]=this.state.value||this.props.options["default"],t},_handleClick:function(t,e,n){if(n.preventDefault(),this.setState({selected:t,value:e}),this.refs.btn.setDropdownState(!1),this.props.dynamic){var a={alias:this.props.options.alias,value:e};this.props.onChange([a])}},render:function(){var t=this.props.options.items.map(function(t,e){return React.createElement("li",{onClick:this._handleClick.bind(null,e,t),key:e},React.createElement("a",{href:"#"},t))}.bind(this)),e=this.state.value||this.props.options.label;return React.createElement(n,{ref:"btn",title:e},t)}}),o=React.createClass({displayName:"ConditionalSelectButton",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getInitialState:function(){return{value:null,selected:0}},_handleClick:function(t,e,n){if(n.preventDefault(),this.setState({selected:t,value:e}),this.refs.primary.setDropdownState(!1),this.props.dynamic){var a=[{alias:this.props.options.aliases[0],value:e},{alias:this.props.options.aliases[1],value:"All"}];this.props.onChange(a)}this.refs.secondary.setState({value:"All"})},getCurrentState:function(){var t={};return t[this.props.options.aliases[0]]=this.state.value||this.props.options.defaults[0],t[this.props.options.aliases[1]]=this.refs.secondary.state.value||this.props.options.defaults[1],t},render:function(){var t=this.props.options.items.map(function(t,e){return React.createElement("li",{onClick:this._handleClick.bind(null,e,t.primary),key:e},React.createElement("a",{href:"#"},t.primary))}.bind(this)),e=this.state.value||this.props.options.labels[0],a={items:this.props.options.items[this.state.selected].secondary,label:this.props.options.labels[1],alias:this.props.options.aliases[1],"default":this.props.options.defaults[1]};return React.createElement("div",{className:this.props.options.filter_style},React.createElement(n,{ref:"primary",title:e},t),React.createElement(i,{ref:"secondary",onChange:this.props.onChange,dynamic:this.props.dynamic,options:a}))}}),r=React.createClass({displayName:"ApiButton",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getInitialState:function(){return{items:[]}},getCurrentState:function(){return this.refs.apiBtn.getCurrentState()},componentDidMount:function(){this._fetchAPIData()},_fetchAPIData:function(){$.get(this.props.options.url,function(t){this.setState({items:t.data})}.bind(this))},update:function(t){$.get(this.props.options.url.concat("?",$.param(t)),function(t){this.setState({items:t.data})}.bind(this))},render:function(){var t={items:this.state.items,alias:this.props.options.alias,"default":this.props.options["default"],label:this.props.options.label};return React.createElement(i,{ref:"apiBtn",onChange:this.props.onChange,dynamic:this.props.dynamic,options:t})}}),s=React.createClass({displayName:"DownloadButton",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getCurrentState:function(){return null},_onClick:function(){var t=this.props.onChange();window.location.href=this.props.options.url.concat("?",$.param(t))},render:function(){return React.createElement(a,{onClick:this._onClick},this.props.options.label)}});t.exports.ConditionalSelectButton=o,t.exports.SelectButton=i,t.exports.ApiButton=r,t.exports.DownloadButton=s},function(t,e,n){"use strict";var a=n(12).LinePlot,i=n(10).Table,o=n(4).Datamaps,r=n(7).MetricsGraphics,s=n(8).NVD3Chart,c=function p(t){if("function"!=typeof p[t])throw new Error(t+" is not a valid chart type.");return p[t]};c.LinePlot=a,c.Table=i,c.Datamaps=o,c.MetricsGraphics=r,c.NVD3Chart=s;var l=React.createClass({displayName:"Chart",getDefaultProps:function(){return{type:React.PropTypes.string.isRequired,options:React.PropTypes.object}},update:function(t){this.refs.chart._update(t)},render:function(){var t=c(this.props.type);return React.createElement(t,{ref:"chart",options:this.props.options})}});t.exports.Chart=l},function(t,e){"use strict";var n=ReactBootstrap.Input,a=ReactBootstrap.Button,i=React.createClass({displayName:"CheckboxGroup",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getCurrentState:function(){for(var t={},e=0;e<this.props.options.labels.length;e++)t[this.props.options.aliases[e]]=this.refs["checkbox_".concat(e)].getChecked();return t},_resetChecked:function(){for(var t=0;t<this.props.options.labels.length;t++)this.refs["checkbox_".concat(t)].getInputDOMNode().checked=!1},render:function(){var t=this.props.options.labels.map(function(t,e){return React.createElement(n,{ref:"checkbox_".concat(e),type:"checkbox",label:t})});return React.createElement("div",{className:"inputgrp"},React.createElement("div",{className:"btn-group horizontal"},React.createElement(a,{onClick:this.props.onChange},"Submit"),React.createElement(a,{onClick:this._resetChecked},"Reset")),t)}});t.exports.CheckboxGroup=i},function(t,e){"use strict";var n=React.createClass({displayName:"Datamaps",getDefaultProps:function(){return{options:React.PropTypes.object}},getInitialState:function(){return{chart:null}},componentDidMount:function(){this._initialize(this.props.options.params)},_initialize:function(t){$.get(this.props.options.url.concat("?",$.param(t)),function(t){this.state.chart=new Datamap({element:document.getElementById(this.props.options.chartid),scope:"usa",fills:t.fills,data:t.data})}.bind(this))},_update:function(t){$.get(this.props.options.url.concat("?",$.param(t)),function(t){this.state.chart.updateChoropleth(t.data)}.bind(this))},render:function(){return React.createElement("div",{id:this.props.options.chartid,className:"pyDataMap"})}});t.exports.Datamaps=n},function(t,e,n){"use strict";var a=ReactBootstrap.Input,i=ReactBootstrap.DropdownMenu,o=ReactBootstrap.DropdownStateMixin,r=ReactBootstrap.BootstrapMixin,s=ReactBootstrap.MenuItem,c=n(15),l=React.createClass({displayName:"DynamicSearch",mixins:[o,r],getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getInitialState:function(){return{value:null,searchString:"",items:[]}},getCurrentState:function(){var t={};return t[this.props.options.alias]=this.state.value||this.props.options["default"],t},componentDidMount:function(){this._fetchAPIData()},update:function(t){$.get(this.props.options.url.concat("?",$.param(t)),function(t){this.setState({items:t.data})}.bind(this))},_fetchAPIData:function(){$.get(this.props.options.url,function(t){this.setState({items:t.data})}.bind(this))},_filterItems:function(){var t=this.state.items,e=this.state.searchString.trim().toLowerCase();e.length>0&&(t=t.filter(function(t){return t.toLowerCase().match(e)}));var n=t.length,a="Results Left: #";return t.map(function(t,e){return e<this.props.options.max?React.createElement(s,{key:e,onSelect:this._handleItemSelect.bind(null,t)},t):e==this.props.options.max?React.createElement(s,{key:e},a.replace("#",n-e)):void 0}.bind(this))},_handleChange:function(t){t.preventDefault(),this.setState({searchString:t.target.value,value:t.target.value}),this.setDropdownState(!0)},_handleItemSelect:function(t,e){if(this.setState({value:t}),this.setDropdownState(!this.state.open),this.props.dynamic){var n={alias:this.props.options.alias,value:t};this.props.onChange([n])}},render:function(){var t={dropdown:!0,open:this.state.open};return React.createElement("div",{className:c(t)},React.createElement(a,{type:"text",ref:"input",value:this.state.value,placeholder:this.props.options.placeholder,help:this.props.options.help,onChange:this._handleChange}),React.createElement(i,{ref:"menu",key:1,"aria-labelledby":this.props.id,pullRight:!1},this._filterItems()))}});t.exports.DynamicSearch=l},function(t,e,n){"use strict";var a=n(1).SelectButton,i=n(1).DownloadButton,o=n(1).ConditionalSelectButton,r=n(1).ApiButton,s=n(9).SliderInput,c=n(5).DynamicSearch,l=n(3).CheckboxGroup,p=function h(t){if("function"!=typeof h[t])throw new Error(t+" is not a valid filter.");return h[t]};p.SliderInput=s,p.SelectButton=a,p.ConditionalSelectButton=o,p.ApiButton=r,p.DownloadButton=i,p.DynamicSearch=c,p.CheckboxGroup=l;var u=React.createClass({displayName:"Filter",getDefaultProps:function(){return{type:React.PropTypes.string.isRequired,options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},render:function(){var t=p(this.props.type);return React.createElement(t,{ref:"filter",dynamic:this.props.dynamic,onChange:this.props.onChange,options:this.props.options})}});t.exports.Filter=u},function(t,e){"use strict";var n=React.createClass({displayName:"MetricsGraphics",getDefaultProps:function(){return{options:React.PropTypes.object}},componentDidMount:function(){this._initialize(this.props.options.params.init_params)},_initialize:function(t){d3.json(this.props.options.url.concat("?",$.param(t)),function(t,e){var n=this.props.options.params;if(e.date)for(var a=0;a<e.result.length;a++)e.result[a]=MG.convert.date(e.result[a],"x");n.data=e.result,MG.data_graphic(n)}.bind(this))},_update:function(t){d3.json(this.props.options.url.concat("?",$.param(t)),function(t,e){var n=this.props.options.params;if(e.date)for(var a=0;a<e.result.length;a++)e.result[a]=MG.convert.date(e.result[a],"x");n.data=e.result,MG.data_graphic(n)}.bind(this))},render:function(){var t={width:this.props.options.params.width};return React.createElement("div",{id:this.props.options.chart_id,style:t})}});t.exports.MetricsGraphics=n},function(t,e,n){"use strict";var a=n(14).TwoAxisFocus,i=n(13).PieChart,o=function s(t,e){var n;if("function"!=typeof s[t])throw new Error(t+" is not a valid NVD3 type.");return s.prototype=s[t].prototype,n=new s[t],n.initialize(e),n};o.TwoAxisFocus=a,o.PieChart=i;var r=React.createClass({displayName:"NVD3Chart",getDefaultProps:function(){return{options:React.PropTypes.object}},getInitialState:function(){return{chart:null}},componentDidMount:function(){this.setState({chart:this._initialize(this.state.chart)})},_initialize:function(t){return t=o(this.props.options.type,this.props.options),t.get(this.props.options.chartid,this.props.options.url,this.props.options.init_params),t},_update:function(t){this.state.chart.get(this.props.options.chartid,this.props.options.url,t)},render:function(){return React.createElement("div",{id:this.props.options.chartid},React.createElement("svg",null))}});t.exports.NVD3Chart=r},function(t,e){"use strict";var n=React.createClass({displayName:"SliderInput",getDefaultProps:function(){return{options:React.PropTypes.object,dynamic:!1,onChange:React.PropTypes.func}},getInitialState:function(){return{value:null}},getCurrentState:function(){var t={};return t[this.props.options.alias]=this.state.value||this.props.options["default"],t},_handleChange:function(t){t.preventDefault();var e=this.getDOMNode();if(this.setState({value:e.value}),this.props.dynamic){var n={alias:this.props.options.alias,value:e.value};this.props.onChange([n])}},render:function(){return React.createElement("input",{id:"pyx-slider",className:"pyx-slider",ref:"slider",type:"range",name:this.props.options.label,min:this.props.options.min,max:this.props.options.max,onInput:this._handleChange,step:this.props.options.step})}});t.exports.SliderInput=n},function(t,e){"use strict";var n=React.createClass({displayName:"Table",getDefaultProps:function(){return{options:{table_options:{deferRender:!0,paging:!1,scrollX:!0,bSort:!1},id:"mytable",url:"",params:{}}}},getInitialState:function(){return{columns:[]}},componentDidMount:function(){this._initialize()},_initialize:function(){$.get(this.props.options.url.concat("?",$.param(this.props.options.params)),function(t){this.setState({columns:t.columns});var e=this.props.options.table_options;e.data=t.data,e.columns=t.columns,e.aaData=t.data,"columnDefs"in this.props.options.table_options&&(e.columnDefs=this.props.options.table_options.columnDefs,e.columnDefs.forEach(function(t){t.render=new Function("return '"+t.render+"';")})),e.initComplete=new Function("settings","json",this.props.options.table_options.initComplete),e.drawCallback=new Function("settings",this.props.options.table_options.drawCallback),$("#".concat(this.props.options.id)).dataTable(e)}.bind(this))},_update:function(t){var e=$("#".concat(this.props.options.id)).dataTable();e.api().ajax.url(this.props.options.url.concat("?",$.param(t))).load()},render:function(){var t=this.state.columns.map(function(t,e){return React.createElement("th",{key:e},t.data)});return React.createElement("div",null,React.createElement("table",{id:this.props.options.id,className:this.props.options.className,cellPadding:"0",cellSpacing:"0",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,t))))}});t.exports.Table=n},function(t,e,n){"use strict";var a=ReactBootstrap.Button,i=n(2).Chart,o=n(6).Filter,r=ReactBootstrap.Row,s=React.createClass({displayName:"FilterChart",getDefaultProps:function(){return{filters:React.PropTypes.array,filter_style:React.PropTypes.string,charts:React.PropTypes.array,dynamic:React.PropTypes.string}},_handleClick:function(t){for(var e={},n=0;n<this.props.filters.length;n++){var a=this.refs["filter_".concat(n)].refs.filter.getCurrentState();for(var i in a)e[i]=a[i]}if(t)for(var n=0;n<t.length;n++)e[t[n].alias]=t[n].value;for(var n=0;n<this.props.charts.length;n++)this.refs["chart_".concat(n)].update(e);return e},render:function(){var t=this.props.filters.map(function(t,e){return React.createElement(o,{ref:"filter_".concat(e),onChange:this._handleClick,dynamic:this.props.dynamic,type:t.type,options:t.options})}.bind(this)),e=this.props.charts.map(function(t,e){return React.createElement(i,{ref:"chart_".concat(e),type:t.type,options:t.options})});return React.createElement("div",null,React.createElement(r,null,React.createElement("div",{className:this.props.filter_style},this.props.dynamic?null:React.createElement(a,{onClick:this._handleClick},"Update!"),t)),React.createElement(r,null,e))}});t.exports.FilterChart=s},function(t,e){"use strict";var n=React.createClass({displayName:"LinePlot",getDefaultProps:function(){return{options:React.PropTypes.object}},getInitialState:function(){return{chart:null}},componentDidMount:function(){this.setState({chart:this._initialize(this.state.chart)})},_initialize:function(t){return t=nv.models.lineChart().margin(this.props.options.margin||{left:100}).useInteractiveGuideline(!0).showLegend(!0).showYAxis(!0).showXAxis(!0),t.xAxis.axisLabel("X Axis").tickFormat(d3.format(",r")),t.yAxis.axisLabel("Y Axis").tickFormat(d3.format(".02f")),d3.json(this.props.options.url,function(e,n){d3.select("#".concat(this.props.options.chartid," svg")).datum(n.result).call(t)}.bind(this)),nv.utils.windowResize(function(){t.update()}),t},_update:function(t){d3.json(this.props.options.url.concat("?",$.param(t)),function(t,e){d3.select("#".concat(this.props.options.chartid," svg")).datum(e.result).transition().duration(500).call(this.state.chart),nv.utils.windowResize(function(){this.state.chart.update()}.bind(this))}.bind(this))},render:function(){return React.createElement("div",{id:this.props.options.chartid},React.createElement("svg",null))}});t.exports.LinePlot=n},function(t,e){"use strict";var n=function(){this.chart=nv.models.pieChart()};n.prototype.initialize=function(t){this.chart.x(function(t){return t.label}).y(function(t){return t.value}).showLabels(!0).labelType(t.labelType).showLegend(!0).labelsOutside(!1).color(t.colors),this.chart.tooltip.contentGenerator(function(t){return'<h3 style="background-color: '+t.color+'">'+t.data.label+"</h3><p>"+100*t.data.value+"%</p>"})},n.prototype.get=function(t,e,n){d3.json(e.concat("?",$.param(n)),function(e,n){d3.select("#".concat(t," svg")).datum(n.data).transition().duration(500).call(this.chart);nv.utils.windowResize(this.chart.update)}.bind(this))},t.exports.PieChart=n},function(t,e){"use strict";var n=function(){function t(E){return E.each(function(E){function $(t){var e=2===E[t.seriesIndex].yAxis?y:v;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color},T.duration(100).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).position(t.pos).hidden(!1)}function G(t){var e=+("e"==t),n=e?1:-1,a=Y/3;return"M"+.5*n+","+a+"A6,6 0 0 "+e+" "+6.5*n+","+(a+6)+"V"+(2*a-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*a+"ZM"+2.5*n+","+(a+8)+"V"+(2*a-8)+"M"+4.5*n+","+(a+8)+"V"+(2*a-8)}function L(){C.empty()||C.extent(P),rt.data([C.empty()?i.domain():P]).each(function(t,n){var a=i(t[0])-e.range()[0],o=e.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",0>a?0:a),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",0>o?0:o)})}function V(){P=C.empty()?null:C.extent();var t=C.empty()?i.domain():C.extent();if(!(Math.abs(t[0]-t[1])<=1)){M.brush({extent:t,brush:C}),L();var n=et.select(".nv-focus .nv-lines1Wrap").datum(K.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return h.x()(e,n)>=t[0]&&h.x()(e,n)<=t[1]})}})),a=et.select(".nv-focus .nv-lines2Wrap").datum(q.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return d.x()(e,n)>=t[0]&&d.x()(e,n)<=t[1]})}}));n.transition().duration(F).call(h),a.transition().duration(F).call(d),et.select(".nv-focus .nv-x.nv-axis").transition().duration(F).call(m),et.select(".nv-focus .nv-y1.nv-axis").transition().duration(F).call(v),et.select(".nv-focus .nv-y2.nv-axis").attr("transform","translate("+e.range()[1]+",0)").transition().duration(F).call(y)}}var W=d3.select(this);nv.utils.initSVG(W);var O=(k||parseInt(W.style("width"))||960)-R.left-R.right,X=(w||parseInt(W.style("height"))||400)-R.top-R.bottom-_,Y=_-D.top-D.bottom,K=E.filter(function(t){return 1==t.yAxis}),q=E.filter(function(t){return 2==t.yAxis});if(t.update=function(){W.transition().duration(F).call(t)},t.container=this,I.setter(z(E),t.update).getter(j(E)).update(),I.disabled=E.map(function(t){return!!t.disabled}),!N){var H;N={};for(H in I)I[H]instanceof Array?N[H]=I[H].slice(0):N[H]=I[H]}if(!(E&&E.length&&E.filter(function(t){return t.values.length}).length)){var U=W.selectAll(".nv-noData").data([B]);return U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",R.left+O/2).attr("y",R.top+X/2).text(function(t){return t}),t}W.selectAll(".nv-noData").remove();var Z=E.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),J=E.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});e=h.xScale(),n=h.yScale(),a=d.yScale(),i=f.xScale(),o=f.yScale();var Q=W.selectAll("g.nv-wrap.nv-twoAxisFocusChart").data([E]),tt=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-twoAxisFocusChart").append("g"),et=Q.select("g");tt.append("g").attr("class","legendWrap");var nt=tt.append("g").attr("class","nv-focus");nt.append("g").attr("class","nv-x nv-axis"),nt.append("g").attr("class","nv-y1 nv-axis"),nt.append("g").attr("class","nv-y2 nv-axis"),nt.append("g").attr("class","nv-lines1Wrap"),nt.append("g").attr("class","nv-lines2Wrap");var at=tt.append("g").attr("class","nv-context");at.append("g").attr("class","nv-x nv-axis"),at.append("g").attr("class","nv-y nv-axis"),at.append("g").attr("class","nv-lines1Wrap"),at.append("g").attr("class","nv-brushBackground"),at.append("g").attr("class","nv-x nv-brush");var it=E.map(function(t,e){return E[e].color||S(t,e)});A&&(b.color(it),b.width(O/2),et.select(".legendWrap").datum(E.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(b),R.top!=b.height()&&(R.top=b.height(),X=(w||parseInt(W.style("height"))||400)-R.top-R.bottom-_,Y=_-D.top-D.bottom),et.select(".legendWrap").attr("transform","translate("+O/2+","+-R.top+")")),Q.attr("transform","translate("+R.left+","+R.top+")"),h.width(O).height(X).color(it.filter(function(t,e){return!E[e].disabled&&1==E[e].yAxis})),d.width(O).height(X).color(it.filter(function(t,e){return!E[e].disabled&&2==E[e].yAxis})),f.width(O).height(Y).color(it.filter(function(t,e){return 2==E[e].yAxis})),et.select(".nv-context").attr("transform","translate(0,"+(X+R.bottom+D.top)+")"),l.domain(r||d3.extent(Z,function(t){return t.y})).range([0,X]),p.domain(s||d3.extent(J,function(t){return t.y})).range([0,X]),u.domain(c||d3.extent(J,function(t){return t.y})).range([Y,0]),h.yDomain(l.domain()),d.yDomain(p.domain()),f.yDomain(u.domain());var ot=et.select(".nv-context .nv-lines1Wrap").datum(q);q.length&&d3.transition(ot).call(f),m.scale(e).ticks(nv.utils.calcTicksX(O/100,K)).tickSize(-X,0),v.ticks(nv.utils.calcTicksY(X/36,K)).tickSize(-O,0),y.ticks(nv.utils.calcTicksY(X/36,q)).tickSize(-O,0),et.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+X+")"),C.x(i).on("brush",function(){var e=t.duration();t.duration(0),V(),t.duration(e)}),P&&C.extent(P);var rt=et.select(".nv-brushBackground").selectAll("g").data([P||C.extent()]),st=rt.enter().append("g");st.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Y),st.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Y);var ct=et.select(".nv-x.nv-brush").call(C);ct.selectAll("rect").attr("height",Y),ct.selectAll(".resize").append("path").attr("d",G),V(),g.scale(i).ticks(nv.utils.calcTicksX(O/100,q)).tickSize(-Y,0),et.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")"),d3.transition(et.select(".nv-context .nv-x.nv-axis")).call(g),x.ticks(nv.utils.calcTicksY(Y/36,q)).tickSize(-O,0),d3.transition(et.select(".nv-context .nv-y.nv-axis")).call(x),et.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")"),b.dispatch.on("stateChange",function(e){for(var n in e)I[n]=e[n];M.stateChange(I),t.update()}),M.on("changeState",function(e){"undefined"!=typeof e.disabled&&E.forEach(function(t,n){t.disabled=e.disabled[n]}),t.update()}),h.dispatch.on("elementMouseover.tooltip",$),d.dispatch.on("elementMouseover.tooltip",$),h.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),d.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)})}),t}var e,n,a,i,o,r,s,c,l=d3.scale.linear(),p=d3.scale.linear(),u=d3.scale.linear(),h=nv.models.line().yScale(l),d=nv.models.line().yScale(p),f=nv.models.line().yScale(u),m=nv.models.axis().orient("bottom").tickPadding(5),v=nv.models.axis().scale(l).orient("left"),y=nv.models.axis().scale(p).orient("right"),g=nv.models.axis().orient("bottom").tickPadding(5),x=nv.models.axis().scale(u).orient("left"),b=nv.models.legend(),C=d3.svg.brush(),R={top:30,right:30,bottom:30,left:60},D={top:10,right:30,bottom:20,left:60},S=nv.utils.defaultColor(),k=null,w=null,_=100,A=!0,P=null,E=!0,T=nv.models.tooltip(),B="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),F=250,I=nv.utils.state(),N=null;h.clipEdge(!0),d.clipEdge(!0),f.interactive(!1).clipEdge(!0);var j=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},z=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return t.dispatch=M,t.legend=b,t.lines1=h,t.lines2=d,t.linesC=f,t.xAxis=m,t.y1Axis=v,t.y2Axis=y,t.xCAxis=g,t.yCAxis=x,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return A},set:function(t){A=t}},yDomain1:{get:function(){return r},set:function(t){r=t}},yDomain2:{get:function(){return s},set:function(t){s=t}},yDomainC:{get:function(){return c},set:function(t){c=t}},brushExtent:{get:function(){return P},set:function(t){P=t}},tooltips:{get:function(){return E},set:function(t){E=t}},tooltipContent:{get:function(){return T},set:function(t){T=t}},defaultState:{get:function(){return N},set:function(t){N=t}},noData:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return R},set:function(t){R.top=void 0!==t.top?t.top:R.top,R.right=void 0!==t.right?t.right:R.right,R.bottom=void 0!==t.bottom?t.bottom:R.bottom,R.left=void 0!==t.left?t.left:R.left}},color:{get:function(){return S},set:function(t){S=nv.utils.getColor(t),b.color(S)}},interpolate:{get:function(){return h.interpolate()},set:function(t){h.interpolate(t),d.interpolate(t),f.interpolate(t)}},xTickFormat:{get:function(){return m.xTickFormat()},set:function(t){m.xTickFormat(t),g.xTickFormat(t)}},yTickFormat:{get:function(){return v.yTickFormat()},set:function(t){v.yTickFormat(t),y.yTickFormat(t),x.yTickFormat(t)}},duration:{get:function(){return F},set:function(t){F=t,v.duration(F),y.duration(F),x.duration(F),m.duration(F)}},x:{get:function(){return lines.x()},set:function(t){h.x(t),d.x(t),f.x(t)}},y:{get:function(){return lines.y()},set:function(t){h.y(t),d.y(t),f.y(t)}}}),nv.utils.initOptions(t),t},a=function(){this.chart=n()};a.prototype.initialize=function(t){this.chart.margin(t.margin).color(t.colors),this.chart.lines1.interpolate("monotone"),this.chart.lines2.interpolate("monotone"),this.chart.linesC.interpolate("monotone"),this.chart.xAxis.showMaxMin(!1).axisLabel(t.labels.xAxis).tickFormat(function(t){return d3.time.format("%X")(new Date(t))}),this.chart.xCAxis.showMaxMin(!1).axisLabel(t.labels.xAxis).tickFormat(function(t){return d3.time.format("%X")(new Date(t))}),this.chart.y1Axis.axisLabel(t.labels.yAxis1).tickFormat(d3.format(",.2f")),this.chart.y2Axis.axisLabel(t.labels.yAxis2).tickFormat(d3.format(",.2f")),this.chart.yCAxis.axisLabel(t.labels.yAxis2).tickFormat(d3.format(",.2f"))},a.prototype.get=function(t,e,n){d3.json(e.concat("?",$.param(n)),function(e,n){n.data.forEach(function(t){t.values.forEach(function(t){t.x=new Date(1e3*t.x)})}),this.chart.yDomain1(n.yAxis1.bounds),this.chart.yDomain2(n.yAxis2.bounds),this.chart.yDomainC(n.yAxis2.bounds),d3.select("#".concat(t," svg")).datum(n.data).call(this.chart),nv.utils.windowResize(function(){this.chart.update()})}.bind(this))},t.exports.TwoAxisFocus=a},function(t,e,n){var a;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=typeof n;if("string"===a||"number"===a)t+=" "+n;else if(Array.isArray(n))t+=" "+i.apply(null,n);else if("object"===a)for(var o in n)n.hasOwnProperty(o)&&n[o]&&(t+=" "+o)}}return t.substr(1)}a=function(){return i}.call(e,n,e,t),!(void 0!==a&&(t.exports=a))}()}])});